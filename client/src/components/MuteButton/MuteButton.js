import React, { useContext } from "react";
import "./MuteButton.css";
import { AppContext } from "../../Context/AppContext";

const SvgButton = () => {
  const { speechRecognition, isListening, setIsListening } =
    useContext(AppContext);
  const toggleListening = () => {
    if (speechRecognition) {
      if (isListening) {
        speechRecognition.stop();
      } else {
        speechRecognition.start();
      }
      setIsListening(!isListening);
    }
  };

  return (
    <button onClick={toggleListening}>
      <div>
        <svg
          width="80"
          height="80"
          viewBox="0 0 142 142"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g id="Group 1171279476">
            <circle
              id="Ellipse 43"
              cx="70.6667"
              cy="70.6667"
              r="70.6667"
              fill="#0084FF"
              fill-opacity="0.2"
            />
            <circle
              id="Ellipse 44"
              cx="70.1666"
              cy="71.1666"
              r="53.8413"
              transform="rotate(-0.347239 70.1666 71.1666)"
              fill="#0084FF"
              fill-opacity="0.5"
            />
            <g id="Group">
              <path
                id="Vector"
                d="M57.4516 66.2812C57.8366 66.2812 58.2058 66.4294 58.4781 66.6931C58.7503 66.9569 58.9032 67.3145 58.9032 67.6875V70.5C58.9032 73.4837 60.1267 76.3452 62.3046 78.455C64.4824 80.5647 67.4362 81.75 70.5161 81.75C73.5961 81.75 76.5499 80.5647 78.7277 78.455C80.9055 76.3452 82.129 73.4837 82.129 70.5V67.6875C82.129 67.3145 82.282 66.9569 82.5542 66.6931C82.8264 66.4294 83.1957 66.2812 83.5806 66.2812C83.9656 66.2812 84.3349 66.4294 84.6071 66.6931C84.8793 66.9569 85.0323 67.3145 85.0323 67.6875V70.5C85.0323 73.9862 83.6957 77.3481 81.2816 79.9335C78.8676 82.519 75.5483 84.1436 71.9677 84.4922V90.1875H80.6774C81.0624 90.1875 81.4316 90.3357 81.7039 90.5994C81.9761 90.8631 82.129 91.2208 82.129 91.5938C82.129 91.9667 81.9761 92.3244 81.7039 92.5881C81.4316 92.8518 81.0624 93 80.6774 93H60.3548C59.9698 93 59.6006 92.8518 59.3284 92.5881C59.0562 92.3244 58.9032 91.9667 58.9032 91.5938C58.9032 91.2208 59.0562 90.8631 59.3284 90.5994C59.6006 90.3357 59.9698 90.1875 60.3548 90.1875H69.0645V84.4922C65.4839 84.1436 62.1646 82.519 59.7506 79.9335C57.3366 77.3481 56 73.9862 56 70.5V67.6875C56 67.3145 56.1529 66.9569 56.4252 66.6931C56.6974 66.4294 57.0666 66.2812 57.4516 66.2812Z"
                fill="white"
              />
              <path
                id="Vector_2"
                d="M76.3228 70.5C76.3228 71.9918 75.711 73.4226 74.6221 74.4775C73.5332 75.5324 72.0563 76.125 70.5163 76.125C68.9764 76.125 67.4995 75.5324 66.4105 74.4775C65.3216 73.4226 64.7099 71.9918 64.7099 70.5V56.4375C64.7099 54.9457 65.3216 53.5149 66.4105 52.46C67.4995 51.4051 68.9764 50.8125 70.5163 50.8125C72.0563 50.8125 73.5332 51.4051 74.6221 52.46C75.711 53.5149 76.3228 54.9457 76.3228 56.4375V70.5ZM70.5163 48C68.2064 48 65.991 48.8889 64.3576 50.4713C62.7243 52.0536 61.8066 54.1997 61.8066 56.4375V70.5C61.8066 72.7378 62.7243 74.8839 64.3576 76.4662C65.991 78.0486 68.2064 78.9375 70.5163 78.9375C72.8263 78.9375 75.0416 78.0486 76.675 76.4662C78.3084 74.8839 79.226 72.7378 79.226 70.5V56.4375C79.226 54.1997 78.3084 52.0536 76.675 50.4713C75.0416 48.8889 72.8263 48 70.5163 48V48Z"
                fill="white"
              />
            </g>
          </g>
        </svg>
      </div>
    </button>
  );
};

export default SvgButton;
